<div class="modal" tabindex="-1" role="dialog">
  <div class="modal-dialog receipt-editor-dialog">
    <form name="form" class="modal-content" ng-submit="save()">
      <div class="modal-body">
        <div class="receipt-editor-fields form-horizontal">
          <div class="row">
            <div class="col-xs-12 text-center">
              <select ng-model="item" ng-options="(item.type | titlecase) + ' - ' + (item.total | currency) for item in items track by item.id"> </select>
              <a class="btn btn-primary btn-xs" ng-click="split()">Add Expense to Receipt</a>
            </div>
          </div>

          <hr>

          <div class="form-group">
            <label class="col-xs-3 control-label">Date</label>
            <div class="col-xs-9">
              <input ng-model="item.date" class="form-control" bs-datepicker autoclose="true">
            </div>
          </div>

          <div class="form-group">
            <label class="col-xs-3 control-label">Vendor Name</label>
            <div class="col-xs-9">
              <input ng-model="item.vendor" class="form-control">
            </div>
          </div>

          <div class="form-group">
            <label class="col-xs-3 control-label">Payment Type</label>
            <div class="col-xs-9">
              <input ng-model="item.paymentType" class="form-control">
            </div>
          </div>

          <div class="form-group">
            <label class="col-xs-3 control-label">Category</label>
            <div class="col-xs-9">
              <input ng-model="item.category" class="form-control">
            </div>
          </div>

          <div class="form-group">
            <label class="col-xs-3 control-label">City</label>
            <div class="col-xs-9">
              <input ng-model="item.city" class="form-control">
            </div>
          </div>

          <div class="form-group">
            <label class="col-xs-3 control-label">State</label>
            <div class="col-xs-9">
              <input ng-model="item.state" class="form-control">
            </div>
          </div>

          <div class="form-group">
            <label class="col-xs-3 control-label">Tax</label>
            <div class="col-xs-9">
              <input type="currency" ng-model="item.tax" class="form-control">
            </div>
          </div>


          <div class="form-group">
            <label class="col-xs-3 control-label">Second Tax</label>
            <div class="col-xs-9">
              <input type="currency" ng-model="item.additionalTax" class="form-control">
            </div>
          </div>

          <div class="form-group">
            <label class="col-xs-3 control-label">Total</label>
            <div class="col-xs-9">
              <input type="currency" ng-model="item.total" class="form-control">
            </div>
          </div>

          <div class="form-group">
            <label class="col-xs-3 control-label">Tip</label>
            <div class="col-xs-9">
              <input type="currency" ng-model="item.tip" class="form-control">
            </div>
          </div>

          <div class="form-group">
            <label class="col-xs-3 control-label">Tax Category</label>
            <div class="col-xs-9">
              <input ng-model="item.taxCategory" class="form-control">
            </div>
          </div>

          <div class="form-group">
            <label class="col-xs-3 control-label">Business Purpose</label>
            <div class="col-xs-9">
              <input ng-model="item.businessPurpose" class="form-control">
            </div>
          </div>

          <div class="form-group">
            <div class="col-xs-9 col-xs-offset-3">
              <label>
                <input type="checkbox" ng-model="item.reimbursable">
                Reimbursable
              </label>
            </div>
          </div>

          <div class="form-group">
            <div class="col-xs-9 col-xs-offset-3">
              <label>
                <input type="checkbox" ng-model="item.billable">
                Billable
              </label>
            </div>
          </div>

          <div class="form-group">
            <label class="col-xs-3 control-label">Comments</label>
            <div class="col-xs-9">
              <textarea ng-model="item.comments" class="form-control"></textarea>
            </div>
          </div>

          <div class="form-group">
            <label class="col-xs-3 control-label">Folders</label>
            <div class="col-xs-9">
              <expense-folders-input expense="item"></expense-folders-input>
            </div>
          </div>

        </div>
        <div class="receipt-editor-image">
          <image-viewer image-loader="imageLoader" overlay="receipt.getAnswers()">
        </div>
      </div>
      <div class="modal-footer">
        <label class="pull-left"><input type="checkbox" ng-model="unreviewed[item.id]"> Needs further review</label>

        <span ng-if="pagination.total > 1">{{ pagination.first }} of {{ pagination.total }}</span>

        <button type="button" class="btn btn-warning" ng-click="cancel()">Cancel</button>
        <button type="submit" class="btn btn-success" ng-disabled="form.$invalid">Done</button>
        <button type="button" class="btn btn-default"
          ng-if="pagination.total > 1"
          ng-disabled="form.$invalid || !pagination.hasPrevious"
          ng-click="pagination.previous()">
          Back
        </button>
        <button type="button" class="btn btn-primary"
          ng-if="pagination.total > 1"
          ng-disabled="form.$invalid || !pagination.hasNext"
          ng-click="pagination.next()">
          Next
        </button>
      </div>
    </div>
  </div>
</div>

